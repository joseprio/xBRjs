!function(r,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.xBRjs=n():r.xBRjs=n()}(window,(function(){return function(r){var n={};function t(e){if(n[e])return n[e].exports;var u=n[e]={i:e,l:!1,exports:{}};return r[e].call(u.exports,u,u.exports,t),u.l=!0,u.exports}return t.m=r,t.c=n,t.d=function(r,n,e){t.o(r,n)||Object.defineProperty(r,n,{enumerable:!0,get:e})},t.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},t.t=function(r,n){if(1&n&&(r=t(r)),8&n)return r;if(4&n&&"object"==typeof r&&r&&r.__esModule)return r;var e=Object.create(null);if(t.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:r}),2&n&&"string"!=typeof r)for(var u in r)t.d(e,u,function(n){return r[n]}.bind(null,u));return e},t.n=function(r){var n=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(n,"a",n),n},t.o=function(r,n){return Object.prototype.hasOwnProperty.call(r,n)},t.p="",t(t.s=0)}([function(r,n,t){"use strict";function e(r,n){return function(r){if(Array.isArray(r))return r}(r)||function(r,n){if(!(Symbol.iterator in Object(r)||"[object Arguments]"===Object.prototype.toString.call(r)))return;var t=[],e=!0,u=!1,o=void 0;try{for(var a,i=r[Symbol.iterator]();!(e=(a=i.next()).done)&&(t.push(a.value),!n||t.length!==n);e=!0);}catch(r){u=!0,o=r}finally{try{e||null==i.return||i.return()}finally{if(u)throw o}}return t}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}t.r(n),t.d(n,"xbr2x",(function(){return A})),t.d(n,"xbr3x",(function(){return M})),t.d(n,"xbr4x",(function(){return g}));function u(r){var n=255&r,t=(65280&r)>>8,e=(16711680&r)>>16;return[.299*n+.587*t+.114*e,-.168736*n+-.331264*t+.5*e,.5*n+-.418688*t+-.081312*e]}function o(r,n,t){var e=(4278190080&r)>>24&255,o=(4278190080&n)>>24&255;if(0===e&&0===o)return 0;if(!t&&(e<255||o<255))return 1e6;if(0===e||0===o)return 1e6;var a=u(r),i=u(n);return 48*Math.abs(a[0]-i[0])+7*Math.abs(a[1]-i[1])+6*Math.abs(a[2]-i[2])}function a(r,n,t){var e=(4278190080&r)>>24&255,o=(4278190080&n)>>24&255;if(0===e&&0===o)return!0;if(!t&&(e<255||o<255))return!1;if(0===e||0===o)return!1;var a=u(r),i=u(n);return!(Math.abs(a[0]-i[0])>48)&&(!(Math.abs(a[1]-i[1])>7)&&!(Math.abs(a[2]-i[2])>6))}function i(r,n,t,e){var u,o,a,i=(4278190080&r)>>24&255,f=(4278190080&n)>>24&255;return 0===i?(u=255&n,o=(65280&n)>>8,a=(16711680&n)>>16):0===f?(u=255&r,o=(65280&r)>>8,a=(16711680&r)>>16):(u=(e*(255&n)+t*(255&r))/(t+e),o=(e*((65280&n)>>8)+t*((65280&r)>>8))/(t+e),a=(e*((16711680&n)>>16)+t*((16711680&r)>>16))/(t+e)),~~u|~~o<<8|~~a<<16|~~((e*f+t*i)/(t+e))<<24}function f(r,n,t,e,u){var o=n-1;o<0&&(o=0);var a=n-2;a<0&&(a=0);var i=n+1;i>=e&&(i=e-1);var f=n+2;f>=e&&(f=e-1);var c=t-1;c<0&&(c=0);var l=t-2;l<0&&(l=0);var v=t+1;v>=u&&(v=u-1);var s=t+2;return s>=u&&(s=u-1),[r[o+l*e],r[n+l*e],r[i+l*e],r[a+c*e],r[o+c*e],r[n+c*e],r[i+c*e],r[f+c*e],r[a+t*e],r[o+t*e],r[n+t*e],r[i+t*e],r[f+t*e],r[a+v*e],r[o+v*e],r[n+v*e],r[i+v*e],r[f+v*e],r[o+s*e],r[n+s*e],r[i+s*e]]}function c(r,n,t,u,o,a,i,c,l,v,s){var b,d,p,y,h=e(f(r,n,t,u,o),21),j=h[0],m=h[1],A=h[2],M=h[3],g=h[4],w=h[5],O=h[6],S=h[7],_=h[8],C=h[9],P=h[10],T=h[11],U=h[12],B=h[13],R=h[14],E=h[15],I=h[16],k=h[17],q=h[18],z=h[19];b=d=p=y=P;var D=e(x(P,I,E,T,R,O,C,w,U,k,z,h[20],d,p,y,v,s),3);d=D[0],p=D[1];var F=e(x(P,O,T,w,I,g,E,C,m,A,U,S,b,y=D[2],d,v,s),3);b=F[0],y=F[1];var G=e(x(P,g,w,C,O,R,T,E,_,M,m,j,p,d=F[2],b,v,s),3);p=G[0],d=G[1];var H=e(x(P,R,C,E,g,I,w,T,z,q,_,B,y,b=G[2],p,v,s),3);y=H[0],b=H[1],p=H[2],a[i+c*l]=b,a[i+1+c*l]=d,a[i+(c+1)*l]=p,a[i+1+(c+1)*l]=y}function l(r,n,t,u,o,a,i,c,l,v,s){var b,d,p,y,x,j,m,A,M,g=e(f(r,n,t,u,o),21),w=g[0],O=g[1],S=g[2],_=g[3],C=g[4],P=g[5],T=g[6],U=g[7],B=g[8],R=g[9],E=g[10],I=g[11],k=g[12],q=g[13],z=g[14],D=g[15],F=g[16],G=g[17],H=g[18],J=g[19];b=d=p=y=x=j=m=A=M=E;var K=e(h(E,F,D,I,z,T,R,P,k,G,J,g[20],p,j,m,A,M,v,s),5);p=K[0],j=K[1],m=K[2],A=K[3];var L=e(h(E,T,I,P,F,C,D,R,O,S,k,U,b,d,M=K[4],j,p,v,s),5);b=L[0],d=L[1],M=L[2],j=L[3];var N=e(h(E,C,P,R,T,z,I,D,B,_,O,w,m,y,p=L[4],d,b,v,s),5);m=N[0],y=N[1],p=N[2],d=N[3];var Q=e(h(E,z,R,D,C,F,P,I,J,H,B,q,M,A,b=N[4],y,m,v,s),5);M=Q[0],A=Q[1],b=Q[2],y=Q[3],m=Q[4],a[i+c*l]=b,a[i+1+c*l]=d,a[i+2+c*l]=p,a[i+(c+1)*l]=y,a[i+1+(c+1)*l]=x,a[i+2+(c+1)*l]=j,a[i+(c+2)*l]=m,a[i+1+(c+2)*l]=A,a[i+2+(c+2)*l]=M}function v(r,n,t,u,o,a,i,c,l,v,s){var b,d,p,y,x,h,m,A,M,g,w,O,S,_,C,P,T=e(f(r,n,t,u,o),21),U=T[0],B=T[1],R=T[2],E=T[3],I=T[4],k=T[5],q=T[6],z=T[7],D=T[8],F=T[9],G=T[10],H=T[11],J=T[12],K=T[13],L=T[14],N=T[15],Q=T[16],V=T[17],W=T[18],X=T[19];b=d=p=y=x=h=m=A=M=g=w=O=S=_=C=P=G;var Y=e(j(G,Q,N,H,L,q,F,k,J,V,X,T[20],P,C,O,y,A,w,_,S,v,s),8);P=Y[0],C=Y[1],O=Y[2],y=Y[3],A=Y[4],w=Y[5],_=Y[6],S=Y[7];var Z=e(j(G,q,H,k,Q,I,N,F,B,R,J,z,y,A,p,b,d,m,O,P,v,s),8);y=Z[0],A=Z[1],p=Z[2],b=Z[3],d=Z[4],m=Z[5],O=Z[6],P=Z[7];var $=e(j(G,I,k,F,q,L,H,N,D,E,B,U,b,d,x,S,M,h,p,y,v,s),8);b=$[0],d=$[1],x=$[2],S=$[3],M=$[4],h=$[5],p=$[6],y=$[7];var rr=e(j(G,L,F,N,I,Q,k,H,X,W,D,K,S,M,_,P,C,g,x,b,v,s),8);S=rr[0],M=rr[1],_=rr[2],P=rr[3],C=rr[4],g=rr[5],x=rr[6],b=rr[7],a[i+c*l]=b,a[i+1+c*l]=d,a[i+2+c*l]=p,a[i+3+c*l]=y,a[i+(c+1)*l]=x,a[i+1+(c+1)*l]=h,a[i+2+(c+1)*l]=m,a[i+3+(c+1)*l]=A,a[i+(c+2)*l]=M,a[i+1+(c+2)*l]=g,a[i+2+(c+2)*l]=w,a[i+3+(c+2)*l]=O,a[i+(c+3)*l]=S,a[i+1+(c+3)*l]=_,a[i+2+(c+3)*l]=C,a[i+3+(c+3)*l]=P}function s(r,n,t){return t?i(r,n,7,1):r}function b(r,n,t){return t?i(r,n,3,1):r}function d(r,n,t){return t?i(r,n,1,1):r}function p(r,n,t){return t?i(r,n,1,3):n}function y(r,n,t){return t?i(r,n,1,7):n}function x(r,n,t,e,u,i,f,c,l,v,s,y,x,h,j,m,A){if(!(r!=t&&r!=e))return[x,h,j];var M=o(r,i,A)+o(r,u,A)+o(n,s,A)+o(n,l,A)+(o(t,e)<<2),g=o(t,f,A)+o(t,y,A)+o(e,v,A)+o(e,c,A)+(o(r,n,A)<<2),w=o(r,e,A)<=o(r,t,A)?e:t;if(M<g&&(!a(e,c,A)&&!a(t,f,A)||a(r,n,A)&&!a(e,v,A)&&!a(t,y,A)||a(r,u,A)||a(r,i,A))){var O=o(e,u,A),S=o(t,i,A),_=r!=i&&c!=i,C=r!=u&&f!=u;if(O<<1<=S&&C||O>=S<<1&&_){if(O<<1<=S&&C){var P=function(r,n,t,e){return[p(r,t,e),b(n,t,e)]}(j,h,w,m);j=P[0],h=P[1]}if(O>=S<<1&&_){var T=function(r,n,t,e){return[p(r,t,e),b(n,t,e)]}(j,x,w,m);j=T[0],x=T[1]}}else j=function(r,n,t){return d(r,n,t)}(j,w,m)}else M<=g&&(j=b(j,w,m));return[x,h,j]}function h(r,n,t,u,i,f,c,l,v,x,h,j,m,A,M,g,w,O,S){if(!(r!=t&&r!=u))return[m,A,M,g,w];var _=o(r,f,S)+o(r,i,S)+o(n,h,S)+o(n,v,S)+(o(t,u,S)<<2),C=o(t,c,S)+o(t,j,S)+o(u,x,S)+o(u,l,S)+(o(r,n,S)<<2);if(_<C&&(!a(u,l,S)&&!a(u,f,S)||!a(t,c,S)&&!a(t,i,S)||a(r,n,S)&&(!a(u,v,S)&&!a(u,x,S)||!a(t,h,S)&&!a(t,j,S))||a(r,i,S)||a(r,f,S))){var P=o(u,i,S),T=o(t,f,S),U=r!=f&&l!=f,B=r!=i&&c!=i,R=o(r,u,S)<=o(r,t,S)?u:t;if(P<<1<=T&&B&&P>=T<<1&&U){var E=e(function(r,n,t,e,u,o,a){var i=p(r,o,a),f=b(t,o,a);return[i,i,f,f,o]}(g,0,M,0,0,R,O),5);g=E[0],A=E[1],M=E[2],m=E[3],w=E[4]}else if(P<<1<=T&&B){var I=e(function(r,n,t,e,u,o){return[p(r,u,o),b(n,u,o),b(t,u,o),u]}(g,A,M,0,R,O),4);g=I[0],A=I[1],M=I[2],w=I[3]}else if(P>=T<<1&&U){var k=e(function(r,n,t,e,u,o){return[p(r,u,o),b(n,u,o),b(t,u,o),u]}(A,g,m,0,R,O),4);A=k[0],g=k[1],m=k[2],w=k[3]}else{var q=e(function(r,n,t,e,u){return[y(r,e,u),s(n,e,u),s(t,e,u)]}(w,A,g,R,O),3);w=q[0],A=q[1],g=q[2]}}else _<=C&&(w=d(w,o(r,u,S)<=o(r,t,S)?u:t,O));return[m,A,M,g,w]}function j(r,n,t,u,i,f,c,l,v,s,y,x,h,j,m,A,M,g,w,O,S,_){if(!(r!=t&&r!=u))return[h,j,m,A,M,g,w,O];var C=o(r,f,_)+o(r,i,_)+o(n,y,_)+o(n,v,_)+(o(t,u,_)<<2),P=o(t,c,_)+o(t,x,_)+o(u,s,_)+o(u,l,_)+(o(r,n,_)<<2),T=o(r,u,_)<=o(r,t,_)?u:t;if(C<P&&(!a(u,l,_)&&!a(t,c,_)||a(r,n,_)&&!a(u,s,_)&&!a(t,x,_)||a(r,i,_)||a(r,f,_))){var U=o(u,i,_),B=o(t,f,_),R=r!=f&&l!=f,E=r!=i&&c!=i;if(U<<1<=B&&E||U>=B<<1&&R){if(U<<1<=B&&E){var I=e(function(r,n,t,e,u,o,a,i){return[a,a,p(t,a,i),p(e,a,i),b(u,a,i),b(o,a,i)]}(0,0,m,w,O,g,T,S),6);h=I[0],j=I[1],m=I[2],w=I[3],O=I[4],g=I[5]}if(U>=B<<1&&R){var k=e(function(r,n,t,e,u,o,a,i){return[a,p(n,a,i),a,b(e,a,i),p(u,a,i),b(o,a,i)]}(0,j,0,A,M,g,T,S),6);h=k[0],j=k[1],m=k[2],A=k[3],M=k[4],g=k[5]}}else{var q=e(function(r,n,t,e,u){return[e,d(n,e,u),d(t,e,u)]}(0,j,m,T,S),3);h=q[0],j=q[1],m=q[2]}}else C<=P&&(h=d(h,T,S));return[h,j,m,A,M,g,w,O]}function m(r){var n=!0,t=!1;return r&&(!1===r.blendColors&&(n=!1),!0===r.scaleAlpha&&(t=!0)),{blendColors:n,scaleAlpha:t}}function A(r,n,t,e){for(var u=m(e),o=u.blendColors,a=u.scaleAlpha,i=new Uint32Array(n*t*4),f=0;f<n;f++)for(var l=0;l<t;l++)c(r,f,l,n,t,i,2*f,2*l,2*n,o,a);return i}function M(r,n,t,e){for(var u=m(e),o=u.blendColors,a=u.scaleAlpha,i=new Uint32Array(n*t*9),f=0;f<n;f++)for(var c=0;c<t;c++)l(r,f,c,n,t,i,3*f,3*c,3*n,o,a);return i}function g(r,n,t,e){for(var u=m(e),o=u.blendColors,a=u.scaleAlpha,i=new Uint32Array(n*t*16),f=0;f<n;f++)for(var c=0;c<t;c++)v(r,f,c,n,t,i,4*f,4*c,4*n,o,a);return i}}])}));