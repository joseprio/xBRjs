!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.xBRjs=t():n.xBRjs=t()}(window,(function(){return function(n){var t={};function e(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=n,e.c=t,e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:r})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var o in n)e.d(r,o,function(t){return n[t]}.bind(null,o));return r},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=0)}([function(n,t,e){"use strict";e.r(t),e.d(t,"xbr2x",(function(){return P})),e.d(t,"xbr3x",(function(){return S})),e.d(t,"xbr4x",(function(){return U}));const r=!1,o=255,u=65280,f=16711680,c=4278190080,i=48,l=7,s=6;function a(n){const t=n&o,e=(n&u)>>8,r=(n&f)>>16;return[.299*t+.587*e+.114*r,-.168736*t+-.331264*e+.5*r,.5*t+-.418688*e+-.081312*r]}function d(n,t,e){const r=(n&c)>>24&255,o=(t&c)>>24&255;if(0===r&&0===o)return 0;if(!e&&(r<255||o<255))return 1e6;if(0===r||0===o)return 1e6;const u=a(n),f=a(t);return Math.abs(u[0]-f[0])*i+Math.abs(u[1]-f[1])*l+Math.abs(u[2]-f[2])*s}function b(n,t,e){const r=(n&c)>>24&255,o=(t&c)>>24&255;if(0===r&&0===o)return!0;if(!e&&(r<255||o<255))return!1;if(0===r||0===o)return!1;const u=a(n),f=a(t);return!(Math.abs(u[0]-f[0])>i)&&(!(Math.abs(u[1]-f[1])>l)&&!(Math.abs(u[2]-f[2])>s))}function p(n,t,e,r){const i=(n&c)>>24&255,l=(t&c)>>24&255;let s,a,d,b;return 0===i?(s=t&o,a=(t&u)>>8,d=(t&f)>>16):0===l?(s=n&o,a=(n&u)>>8,d=(n&f)>>16):(s=(r*(t&o)+e*(n&o))/(e+r),a=(r*((t&u)>>8)+e*((n&u)>>8))/(e+r),d=(r*((t&f)>>16)+e*((n&f)>>16))/(e+r)),b=(r*l+e*i)/(e+r),~~s|~~a<<8|~~d<<16|~~b<<24}function y(n,t,e,r,o){let u=t-1;u<0&&(u=0);let f=t-2;f<0&&(f=0);let c=t+1;c>=r&&(c=r-1);let i=t+2;i>=r&&(i=r-1);let l=e-1;l<0&&(l=0);let s=e-2;s<0&&(s=0);let a=e+1;a>=o&&(a=o-1);let d=e+2;return d>=o&&(d=o-1),[n[u+s*r],n[t+s*r],n[c+s*r],n[f+l*r],n[u+l*r],n[t+l*r],n[c+l*r],n[i+l*r],n[f+e*r],n[u+e*r],n[t+e*r],n[c+e*r],n[i+e*r],n[f+a*r],n[u+a*r],n[t+a*r],n[c+a*r],n[i+a*r],n[u+d*r],n[t+d*r],n[c+d*r]]}function x(n,t,e,r,o,u,f,c,i,l,s){const a=y(n,t,e,r,o),[d,b,p,x,h,j,M,m,v,A,O,w,_,C,P,S,U,B,R,T,k]=a;let q,z,D,E;q=z=D=E=O,[z,D,E]=g(O,U,S,w,P,M,A,j,_,B,T,k,z,D,E,l,s),[q,E,z]=g(O,M,w,j,U,h,S,A,b,p,_,m,q,E,z,l,s),[D,z,q]=g(O,h,j,A,M,P,w,S,v,x,b,d,D,z,q,l,s),[E,q,D]=g(O,P,A,S,h,U,j,w,T,R,v,C,E,q,D,l,s),u[f+c*i]=q,u[f+1+c*i]=z,u[f+(c+1)*i]=D,u[f+1+(c+1)*i]=E}function h(n,t,e,r,o,u,f,c,i,l,s){const a=y(n,t,e,r,o),[d,b,p,x,h,j,M,m,v,A,O,g,_,C,P,S,U,B,R,T,k]=a;let q,z,D,E,F,G,H,I,J;q=z=D=E=F=G=H=I=J=O,[D,G,H,I,J]=w(O,U,S,g,P,M,A,j,_,B,T,k,D,G,H,I,J,l,s),[q,z,J,G,D]=w(O,M,g,j,U,h,S,A,b,p,_,m,q,z,J,G,D,l,s),[H,E,D,z,q]=w(O,h,j,A,M,P,g,S,v,x,b,d,H,E,D,z,q,l,s),[J,I,q,E,H]=w(O,P,A,S,h,U,j,g,T,R,v,C,J,I,q,E,H,l,s),u[f+c*i]=q,u[f+1+c*i]=z,u[f+2+c*i]=D,u[f+(c+1)*i]=E,u[f+1+(c+1)*i]=F,u[f+2+(c+1)*i]=G,u[f+(c+2)*i]=H,u[f+1+(c+2)*i]=I,u[f+2+(c+2)*i]=J}function j(n,t,e,r,o,u,f,c,i,l,s){const a=y(n,t,e,r,o),[d,b,p,x,h,j,M,m,v,A,O,g,w,C,P,S,U,B,R,T,k]=a;let q,z,D,E,F,G,H,I,J,K,L,N,Q,V,W,X;q=z=D=E=F=G=H=I=J=K=L=N=Q=V=W=X=O,[X,W,N,E,I,L,V,Q]=_(O,U,S,g,P,M,A,j,w,B,T,k,X,W,N,E,I,L,V,Q,l,s),[E,I,D,q,z,H,N,X]=_(O,M,g,j,U,h,S,A,b,p,w,m,E,I,D,q,z,H,N,X,l,s),[q,z,F,Q,J,G,D,E]=_(O,h,j,A,M,P,g,S,v,x,b,d,q,z,F,Q,J,G,D,E,l,s),[Q,J,V,X,W,K,F,q]=_(O,P,A,S,h,U,j,g,T,R,v,C,Q,J,V,X,W,K,F,q,l,s),u[f+c*i]=q,u[f+1+c*i]=z,u[f+2+c*i]=D,u[f+3+c*i]=E,u[f+(c+1)*i]=F,u[f+1+(c+1)*i]=G,u[f+2+(c+1)*i]=H,u[f+3+(c+1)*i]=I,u[f+(c+2)*i]=J,u[f+1+(c+2)*i]=K,u[f+2+(c+2)*i]=L,u[f+3+(c+2)*i]=N,u[f+(c+3)*i]=Q,u[f+1+(c+3)*i]=V,u[f+2+(c+3)*i]=W,u[f+3+(c+3)*i]=X}function M(n,t,e){return e?p(n,t,7,1):n}function m(n,t,e){return e?p(n,t,3,1):n}function v(n,t,e){return e?p(n,t,1,1):n}function A(n,t,e){return e?p(n,t,1,3):t}function O(n,t,e){return e?p(n,t,1,7):t}function g(n,t,e,r,o,u,f,c,i,l,s,a,p,y,x,h,j){if(!(n!=e&&n!=r))return[p,y,x];let M=d(n,u,j)+d(n,o,j)+d(t,s,j)+d(t,i,j)+(d(e,r)<<2),O=d(e,f,j)+d(e,a,j)+d(r,l,j)+d(r,c,j)+(d(n,t,j)<<2),g=d(n,r,j)<=d(n,e,j)?r:e;if(M<O&&(!b(r,c,j)&&!b(e,f,j)||b(n,t,j)&&!b(r,l,j)&&!b(e,a,j)||b(n,o,j)||b(n,u,j))){let t=d(r,o,j),i=d(e,u,j),l=n!=u&&c!=u,s=n!=o&&f!=o;if(t<<1<=i&&s||t>=i<<1&&l){if(t<<1<=i&&s){let n=function(n,t,e,r){return[A(n,e,r),m(t,e,r)]}(x,y,g,h);x=n[0],y=n[1]}if(t>=i<<1&&l){let n=function(n,t,e,r){return[A(n,e,r),m(t,e,r)]}(x,p,g,h);x=n[0],p=n[1]}}else x=function(n,t,e){return v(n,t,e)}(x,g,h)}else M<=O&&(x=m(x,g,h));return[p,y,x]}function w(n,t,e,o,u,f,c,i,l,s,a,p,y,x,h,j,g,w,_){if(!(n!=e&&n!=o))return[y,x,h,j,g];const C=d(n,f,_)+d(n,u,_)+d(t,a,_)+d(t,l,_)+(d(e,o,_)<<2),P=d(e,c,_)+d(e,p,_)+d(o,s,_)+d(o,i,_)+(d(n,t,_)<<2);let S;if(S=r?C<P&&(!b(o,i,_)&&!b(e,c,_)||b(n,t,_)&&!b(o,s,_)&&!b(e,p,_)||b(n,u,_)||b(n,f,_)):C<P&&(!b(o,i,_)&&!b(o,f,_)||!b(e,c,_)&&!b(e,u,_)||b(n,t,_)&&(!b(o,l,_)&&!b(o,s,_)||!b(e,a,_)&&!b(e,p,_))||b(n,u,_)||b(n,f,_)),S){const t=d(o,u,_),r=d(e,f,_),l=n!=f&&i!=f,s=n!=u&&c!=u,a=d(n,o,_)<=d(n,e,_)?o:e;t<<1<=r&&s&&t>=r<<1&&l?[j,x,h,y,g]=function(n,t,e,r,o,u,f){const c=A(n,u,f),i=m(e,u,f);return[c,c,i,i,u]}(j,0,h,0,0,a,w):t<<1<=r&&s?[j,x,h,g]=function(n,t,e,r,o,u){return[A(n,o,u),m(t,o,u),m(e,o,u),o]}(j,x,h,0,a,w):t>=r<<1&&l?[x,j,y,g]=function(n,t,e,r,o,u){return[A(n,o,u),m(t,o,u),m(e,o,u),o]}(x,j,y,0,a,w):[g,x,j]=function(n,t,e,r,o){return[O(n,r,o),M(t,r,o),M(e,r,o)]}(g,x,j,a,w)}else C<=P&&(g=v(g,d(n,o,_)<=d(n,e,_)?o:e,w));return[y,x,h,j,g]}function _(n,t,e,r,o,u,f,c,i,l,s,a,p,y,x,h,j,M,O,g,w,_){if(!(n!=e&&n!=r))return[p,y,x,h,j,M,O,g];const C=d(n,u,_)+d(n,o,_)+d(t,s,_)+d(t,i,_)+(d(e,r,_)<<2),P=d(e,f,_)+d(e,a,_)+d(r,l,_)+d(r,c,_)+(d(n,t,_)<<2),S=d(n,r,_)<=d(n,e,_)?r:e;if(C<P&&(!b(r,c,_)&&!b(e,f,_)||b(n,t,_)&&!b(r,l,_)&&!b(e,a,_)||b(n,o,_)||b(n,u,_))){const t=d(r,o,_),i=d(e,u,_),l=n!=u&&c!=u,s=n!=o&&f!=o;t<<1<=i&&s||t>=i<<1&&l?(t<<1<=i&&s&&([p,y,x,O,g,M]=function(n,t,e,r,o,u,f,c){return[f,f,A(e,f,c),A(r,f,c),m(o,f,c),m(u,f,c)]}(0,0,x,O,g,M,S,w)),t>=i<<1&&l&&([p,y,x,h,j,M]=function(n,t,e,r,o,u,f,c){return[f,A(t,f,c),f,m(r,f,c),A(o,f,c),m(u,f,c)]}(0,y,0,h,j,M,S,w))):[p,y,x]=function(n,t,e,r,o){return[r,v(t,r,o),v(e,r,o)]}(0,y,x,S,w)}else C<=P&&(p=v(p,S,w));return[p,y,x,h,j,M,O,g]}function C(n){let t=!0,e=!1;return n&&(!1===n.blendColors&&(t=!1),!0===n.scaleAlpha&&(e=!0)),{blendColors:t,scaleAlpha:e}}function P(n,t,e,r){const{blendColors:o,scaleAlpha:u}=C(r),f=new Uint32Array(t*e*4);for(let r=0;r<t;r++)for(let c=0;c<e;c++)x(n,r,c,t,e,f,2*r,2*c,2*t,o,u);return f}function S(n,t,e,r){const{blendColors:o,scaleAlpha:u}=C(r),f=new Uint32Array(t*e*9);for(let r=0;r<t;r++)for(let c=0;c<e;c++)h(n,r,c,t,e,f,3*r,3*c,3*t,o,u);return f}function U(n,t,e,r){const{blendColors:o,scaleAlpha:u}=C(r),f=new Uint32Array(t*e*16);for(let r=0;r<t;r++)for(let c=0;c<e;c++)j(n,r,c,t,e,f,4*r,4*c,4*t,o,u);return f}}])}));